<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Customizing Visualize Mode of QualNet Architect</title>
    <link rel="StyleSheet" href="css/Chapter%205.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <div>
      <img src="snt-logo-text2-transparent-small.png" />
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="Chapter%205.16.1.html#987216">5	Customizing QualNet Graphical User Interface (GUI)</a> &gt; 5.2  Customizing Visualize Mode of QualNet Architect</div>
    <hr align="left" />
    <blockquote>
      <div class="Heading1Numbered">5.2  <a name="987216">Customizing Visualize Mode of </a><span class="Variable">QualNet</span> Architect</div>
      <div class="BodyAfterHead"><a name="982909">This section describes the customization features available for the Visualize mode of </a><span class="Variable">QualNet</span> Architect. <span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#955932', '');" title="Customizing Visualize Mode of QualNet Architect">Section&nbsp;5.2.3</a></span> describes the communication between <span class="Variable">QualNet</span> Simulator and <span class="Variable">QualNet</span> Architect.  <span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#922535', '');" title="Customizing Visualize Mode of QualNet Architect">Section&nbsp;5.2.2</a></span> describes the API functions that can be used to add customized animation to a protocol. This information can be used to interface <span class="Variable">QualNet</span> Simulator with any other GUI module. <span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#955932', '');" title="Customizing Visualize Mode of QualNet Architect">Section&nbsp;5.2.3</a></span> describes how to display dynamic statistics as they change during model execution.</div>
      <div class="Heading2Numbered">5.2.1  <a name="1030244">Communication between </a><span class="Variable">QualNet</span> Simulator and <span class="Variable">QualNet</span> Architect</div>
      <div class="BodyAfterHead"><span class="Variable"><a name="1030248">QualNet</a></span> Architect provides a graphical interface for animating experiments, and provides limited opportunity to interact with the running simulation. This section describes how the runtime interaction between the <span class="Variable">QualNet</span> Architect and Simulator is set up. A programmer can use the information presented in this section to interface <span class="Variable">QualNet</span> Simulator with a GUI module of their choice.</div>
      <div class="Heading3Numbered">5.2.1.1  <a name="1030258">Initializing </a><span class="Variable">QualNet</span></div>
      <div class="BodyAfterHead"><a name="1030262">When you press the </a><span style="font-weight: bold">Run </span>button in <span class="Variable">QualNet</span> Architect, the following steps are performed to initialize <span class="Variable">QualNet</span> for a simulation:</div>
      <div class="Numbered__0028first_0029_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered__0028first_0029_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered__0028first_0029_inner"><a name="1030266">The internal representation of the scenario is written into the plain text format recognized by Simulator. These are the </a><span class="Variable">QualNet</span> configuration files, .config, .app, etc. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1030270">These files are placed a directory having the same name as the scenario and placed at the same level as the scenario file.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1030271">A socket is opened on the first available port ≥ 4000.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1030272">An external process is started with the following command:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Command_Input"><a name="1030279">&nbsp;</a></div>
      <div class="Command_Input"><span class="Variable"><a name="1030536">qualnet</a></span> &lt;input-file&gt; -interactive &lt;local-host&gt; &lt;port#&gt;</div>
      <div class="Command_Input"><a name="1030545">&nbsp;</a></div>
      <div class="Numbered_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">5.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1030280">A connection on the socket is waited on.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Body"><span class="Variable"><a name="1030284">QualNet</a></span> Simulator does the following:</div>
      <div class="Numbered__0028first_0029_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered__0028first_0029_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered__0028first_0029_inner"><a name="1030285">Opens a socket connection to the specified host and port.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Note_Indented"><a name="1030292"><img class="Default" src="images/Chapter%205.16.3.1.jpg" width="48" height="49" style="display: block; float: none; left: 0.0; top: 0.0" alt="" />If </a><span class="Variable">QualNet</span> is run on a distributed architecture, each partition opens a socket connection to the specified host and port.</div>
      <div class="Numbered_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1030293">Checks out a license.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1030294">Reads the input file.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1030295">Sends scenario initialization information to Architect by calling GUI_Initialize.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">5.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1030296">Creates and initializes nodes, networks and interfaces.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_Indented_outer" style="margin-left: 14.4pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_Indented_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_Indented_inner"><a name="1030297">Calls GUI_InitNode for each node.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_Indented_outer" style="margin-left: 14.4pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_Indented_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_Indented_inner"><a name="1030298">Calls GUI_CreateSubnet for each subnet.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_Indented_outer" style="margin-left: 14.4pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_Indented_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_Indented_inner"><a name="1030299">Calls GUI_CreateHierarchy for hierarchical networks.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_Indented_outer" style="margin-left: 14.4pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_Indented_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_Indented_inner"><a name="1030300">Calls GUI_InitialInterfaces to configure IP addresses for all the nodes.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Note_Indented"><a name="1030304"><img class="Default" src="images/Chapter%205.16.3.2.jpg" width="48" height="49" style="display: block; float: none; left: 0.0; top: 0.0" alt="" />This in turn may result in calls to other GUI functions.</a></div>
      <div class="Bulleted_Indented_outer" style="margin-left: 14.4pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_Indented_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_Indented_inner"><a name="1030305">Calls GUI_InitWirelessInterface to set up the wireless properties (power, sensitivity, range etc.) for a node's wireless interface.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_Indented_outer" style="margin-left: 14.4pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_Indented_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_Indented_inner"><a name="1030306">Calls GUI_CreateWeatherPattern for creating weather patterns.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">6.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1030307">Processes instructions sent from Architect.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">7.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1030308">Upon receiving a </a><span style="font-weight: bold">Step</span> command from Architect, starts processing events.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Body"><a name="1030309">Steps 2-3 are essentially identical to running Simulator from the command line. Steps 1 and 4 establish the communication channel between </a><span class="Variable">QualNet</span> Simulator and Architect. Step 5 is basically identical to the non-animated mode of execution, with occasional information sent to Architect to configure the network for viewing. Steps 6 and 7 are described more fully in <span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#1030317', '');" title="Customizing Visualize Mode of QualNet Architect">Section&nbsp;5.2.1.2</a></span>. </div>
      <div class="Heading3Numbered">5.2.1.2  <a name="1030317">Runtime Interaction</a></div>
      <div class="BodyAfterHead"><a name="1030318">The interaction between Architect and Simulator is very simple. Architect sends commands to Simulator over the socket. At user defined intervals, Simulator reads the commands and adjusts its behavior accordingly. Simulator also sends event-related animation and statistics information to Architect as the events occur. Most of the information sent to Architect can be enabled or disabled through Architect controls. </a><span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#1030328', '');" title="Customizing Visualize Mode of QualNet Architect">Table&nbsp;5-8</a></span> lists the commands sent from Architect to Simulator.</div>
      <table class="Format_A" style="text-align: left; width: 446.94432pt" cellspacing="0" summary="">
        <caption>
          <div class="TableTitle">TABLE 5-8.&nbsp;&nbsp;<a name="1030328">Commands Sent from Architect to Simulator&nbsp;</a></div>
        </caption>
        <tr>
          <td style="background-color: #E6E6E6; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: bottom; width: 144pt">
            <div class="CellHeading"><a name="1030334">Command</a></div>
          </td>
          <td style="background-color: #E6E6E6; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: bottom; width: 86.94432pt">
            <div class="CellHeading"><a name="1030336">Parameters</a></div>
          </td>
          <td style="background-color: #E6E6E6; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: bottom; width: 216pt">
            <div class="CellHeading"><a name="1030338">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030340">GUI_STEP</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030342">&nbsp;</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030344">This command tells Simulator to begin processing events for a period of simulation time specified by the GUI_SET_COMM_INTERVAL command. At the end of this period, Simulator waits for the next command from Architect.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030346">GUI_SET_COMM_INTERVAL</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030348">Time (interval)</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030350">Tells Simulator how far to advance in simulation time before checking for more commands from Architect.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030352">GUI_ENABLE_LAYER</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030354">Integer (layer #)</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030356">All animation commands from the specified protocol layer are sent over the socket to Architect. </a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030358">GUI_DISABLE_LAYER</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030360">Integer (layer #)</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030362">All animation commands from the specified layer are dropped without being sent to Architect. Provides an easy way to limit the amount of information being passed over the socket. However, the animation functions are still called from the protocol code. The filtering is done in the GUI interface code.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030364">GUI_ENABLE_NODE</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030366">Integer (node ID)</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030368">Enables animation for a particular node.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030370">GUI_DISABLE_NODE</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030372">Integer (node ID)</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030374">Disables animation for a particular node.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030376">GUI_SET_STAT_INTERVAL</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030378">Time (interval)</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030380">Sets the interval (in simulation time) at which the user can query Simulator for the latest statistics. </a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030382">GUI_ENABLE_METRIC</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030384">Integer (metric ID)<br />Integer (node ID)<br />Integer (layer)</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030386">Enables transmission of a specific metric across the socket.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030388">GUI_DISABLE_METRIC</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030390">Integer (metric ID)<br />Integer (node ID)<br />Integer (layer)</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030392">Disables reporting of a specific metric.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030394">GUI_STOP</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030396">&nbsp;</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030398">Terminates the simulation experiment.</a></div>
          </td>
        </tr>
      </table>
      <div class="Body"><a name="1030399">The commands are sent across the socket as character strings: the command number followed by the parameters, if any. The command number is specified in the enumeration </a><span style="font-family: &quot;Courier New&quot;">GuiCommands</span> in the file gui.h. For example, the command to set the communication interval to 100 milliseconds is:</div>
      <div class="Body"><span style="font-weight: bold"><a name="1030400">								</a></span>                <span style="font-family: &quot;Courier New&quot;">1 100000000 </span></div>
      <div class="Note" style="color: #000000; font-family: Arial; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-left: 49.23216pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: Arial; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030401">where: </a></span><span style="font-family: &quot;Courier New&quot;; font-size: 10.0pt">1</span> is the command number for GUI_SET_COMM_INTERVAL, and<br />    <span style="font-family: &quot;Courier New&quot;; font-size: 10.0pt">100000000</span> is the time representation of 100 milliseconds. (<span style="font-family: &quot;Courier New&quot;; font-size: 10.0pt">100MS</span> is also an acceptable<br />     representation for 100 milliseconds.)</div>
      <div class="Body"><span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#1030412', '');" title="Customizing Visualize Mode of QualNet Architect" name="1030405">Table&nbsp;5-9</a></span> lists the replies sent by Simulator to Architect.</div>
      <div class="Anchor"><a name="1030471">&nbsp;</a></div>
      <table class="Format_A" style="text-align: left; width: 440.94456pt" cellspacing="0" summary="">
        <caption>
          <div class="TableTitle" style="color: #000000; font-family: &quot;Times New Roman&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline">TABLE 5-9.&nbsp;&nbsp;<span style="font-family: Arial"><a name="1030412">Replies Sent from Simulator to Architect</a></span>&nbsp;</div>
        </caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: bottom; width: 144pt">
            <div class="CellHeading"><a name="1030418">Reply</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: bottom; width: 80.94456pt">
            <div class="CellHeading"><a name="1030420">Parameters</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: bottom; width: 216pt">
            <div class="CellHeading"><a name="1030422">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030424">GUI_STEPPED</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030426">Time (the simulation time just reached)</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030428">Reports to Architect that Simulator has reached the end of the period specified by the last STEP command.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030430">GUI_ANIMATION_COMMAND</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030432">Varies</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030434">Sends an animation command. The first parameter is the number corresponding to the GUI event in the enumeration </a><span style="font-family: &quot;Courier New&quot;">GuiEvents</span> in file gui.h. The remaining parameters depend upon the animation command.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030436">GUI_ASSERTION</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030438">String (the error message)</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030440">Indicates an assertion failure in Simulator code.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030442">GUI_ERROR</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030444">String (the error message)</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.25pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030446">Indicates an error was detected in Simulator code.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030448">GUI_WARNING</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030450">String (the error message)</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.25pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030452">Indicates a warning from Simulator.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030454">GUI_SET_EFFECT</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030456">5 integers (event, layer, type, effect, color)</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030458">Assigns a visual effect to a particular animation event.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030460">GUI_STATISTICS_COMMAND</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030462">Varies</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030464">Sends a statistics command. The first parameter is the number corresponding to the GUI statistics event in the enumeration </a><span style="font-family: &quot;Courier New&quot;">GuiStatisticsEvents</span> in gui.h. The remaining parameters depend upon the statistics command.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 9.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="1030466">GUI_FINISHED</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030468">&nbsp;</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="1030470">Indicates the end of the simulation.</a></div>
          </td>
        </tr>
      </table>
      <div class="Body"><a name="1030472">The replies are sent across the socket as character strings (similar to sending commands): the reply number followed by the parameters, if any. The reply number is specified in the enumeration </a><span style="font-family: &quot;Courier New&quot;">GuiReplies</span> in the file gui.h</div>
      <div class="Heading3Numbered">5.2.1.3  <a name="1030473">Finalization</a></div>
      <div class="BodyAfterHead"><a name="1030474">When the simulation is run with Architect, simulation execution can end in one of three ways:</a></div>
      <div class="Bulleted_outer" style="margin-left: 0pt; margin-top: 0.0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><a name="1030475">The simulation runs to completion and terminates normally. A </a><span style="font-family: &quot;Courier New&quot;">GUI_FINISHED</span> reply is sent from Simulator to Architect.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_outer" style="margin-left: 0pt; margin-top: 0.0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><a name="1030476">The simulation terminates with an error. A </a><span style="font-family: &quot;Courier New&quot;">GUI_ERROR</span> or <span style="font-family: &quot;Courier New&quot;">GUI_ASSERTION</span> reply is sent to Architect, Architect performs some clean up tasks and sends a <span style="font-family: &quot;Courier New&quot;">GUI_STOP</span> command to Simulator, and Simulator shuts down by sending a <span style="font-family: &quot;Courier New&quot;">GUI_FINISHED</span> reply back to Architect.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_outer" style="margin-left: 0pt; margin-top: 0.0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><a name="1030477">The user terminates the execution by pressing Architect's stop button. Architect performs some clean up tasks and sends a </a><span style="font-family: &quot;Courier New&quot;">GUI_STOP</span> command to Simulator, and Simulator shuts down by sending a <span style="font-family: &quot;Courier New&quot;">GUI_FINISHED</span> reply back to Architect.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Heading2Numbered">5.2.2  <a name="922535">Adding Customized Animation to a Protocol</a></div>
      <div class="BodyAfterHead"><span class="Variable"><a name="923623">QualNet</a></span> provides a rich API for adding animation to a protocol. These API functions are defined in <span class="Variable">QUALNET_HOME</span>/include/gui.h and in <span style="font-style: italic">API Reference Guide</span>.</div>
      <div class="Body"><a name="1002140">When running </a><span class="Variable">QualNet</span> from the command line, the following command enables animation output and the animation commands are dumped to standard output:</div>
      <div class="Command_Input"><a name="1002141">&nbsp;</a></div>
      <div class="Command_Input"><span class="Variable"><a name="1030566">qualnet</a></span> &lt;input-file&gt; -animate</div>
      <div class="Body"><a name="1032827">Animation can also be enabled by running an experiment in Architect.</a></div>
      <div class="Body"><a name="1032828">If animation is enabled, each node's </a><span style="font-family: &quot;Courier New&quot;">guiOption</span> variable is set to <span style="font-family: &quot;Courier New&quot;">TRUE</span> at initialization. All calls to GUI API functions should be wrapped as follows:</div>
      <div class="Declaration"><a name="923627">&nbsp;</a></div>
      <div class="Declaration"><a name="1049999">if (node-&gt;guiOption) {</a></div>
      <div class="Declaration"><a name="923628">   // GUI API function</a></div>
      <div class="Declaration"><a name="923629">}</a></div>
      <div class="Body"><span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#952393', '');" title="Customizing Visualize Mode of QualNet Architect" name="923631">Figure&nbsp;5-10</a></span> shows an example of calling a GUI API function. Function PhyAbstractTransmissionEnd is implemented in <span class="Variable">QUALNET_HOME</span>/libraries/wireless/src/phy_abstract.cpp. </div>
      <div class="Code_Segment"><a name="952346">&nbsp;</a></div>
      <div class="Code_Segment"><a name="952401">void PhyAbstractTransmissionEnd(Node *node, int phyIndex) {</a></div>
      <div class="Code_Segment"><a name="952402">    PhyData* thisPhy = node-&gt;phyData[phyIndex];</a></div>
      <div class="Code_Segment"><a name="952403">    PhyDataAbstract* phy_abstract = (PhyDataAbstract *)thisPhy-&gt;phyVar;</a></div>
      <div class="Code_Segment"><a name="952404">    int channelIndex;</a></div>
      <div class="Code_Segment"><a name="952405">&nbsp;</a></div>
      <div class="Code_Segment"><a name="1029412">    PHY_GetTransmissionChannel(node, phyIndex, &amp;channelIndex);</a></div>
      <div class="Code_Segment"><a name="1029413">&nbsp;</a></div>
      <div class="Code_Segment"><a name="1029414">    assert(phy_abstract-&gt;mode == PHY_TRANSMITTING);</a></div>
      <div class="Code_Segment"><a name="952409">&nbsp;</a></div>
      <div class="Code_Segment"><a name="1029431">    phy_abstract-&gt;txEndTimer = NULL;</a></div>
      <div class="Code_Segment"><a name="952410">    //GuiStart</a></div>
      <div class="Code_Segment"><a name="952411">    if (node-&gt;guiOption == TRUE) {</a></div>
      <div class="Code_Segment"><a name="952412">        GUI_EndBroadcast(node-&gt;nodeId,</a></div>
      <div class="Code_Segment"><a name="952413">                         GUI_PHY_LAYER,</a></div>
      <div class="Code_Segment"><a name="952414">                         GUI_DEFAULT_DATA_TYPE,</a></div>
      <div class="Code_Segment"><a name="952415">                         thisPhy-&gt;macInterfaceIndex,</a></div>
      <div class="Code_Segment"><a name="952416">                         getSimTime(node));</a></div>
      <div class="Code_Segment"><a name="952417">    }</a></div>
      <div class="Code_Segment"><a name="952418">    //GuiEnd</a></div>
      <div class="Code_Segment"><a name="952419">    </a></div>
      <div class="Code_Segment"><a name="952420">    PHY_StartListeningToChannel(node, phyIndex, channelIndex);</a></div>
      <div class="Code_Segment"><a name="952421">    ...</a></div>
      <div class="Code_Segment"><a name="952422"> }</a></div>
      <div class="Figure">FIGURE 5-10.&nbsp;&nbsp;<a name="952393">Calling GUI Functions</a></div>
      <div class="Body"><a name="952457">Most of the animation functions available represent "semantic" events, such as "packet was sent", which can be displayed in different ways depending on the situation. For example, "sending packet wirelessly" will look different from "sending packet over a wire", even though both call the same function.</a></div>
      <div class="Body"><a name="949408">The following general types of animation are available in </a><span class="Variable">QualNet</span>:</div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><a name="949409">Packet animation: sends, receives</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><a name="949410">Queue animation: insertions, deletions, drops</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><a name="923664">Wireless animation: transmissions, directional transmissions, antenna patterns</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><a name="923665">Node animation: icons, labels, motion, orientation</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><a name="923666">Statistics: definition, data updates</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><a name="923667">Logical link: applications, abstract linkages</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Body"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#951455', '');" title="Customizing Visualize Mode of QualNet Architect" name="923669">Table&nbsp;5-10</a> lists the commands available in each class of animation. Many of these functions require <span style="font-family: &quot;Courier New&quot;">GuiLayers</span> as a parameter. This parameter is used to enable animation filtering in Architect. A programmer can take advantage of this to display only the user's own defined animation. There is no animation defined at the GUI_CHANNEL_LAYER, so the programmer can specify this layer for all the custom animation, and disable all other layers in Architect.</div>
      <table class="Format_A" style="text-align: left; width: 260.94456pt" cellspacing="0" summary="">
        <caption>
          <div class="TableTitle">TABLE 5-10.&nbsp;&nbsp;<a name="951455">GUI API Functions for Animation&nbsp;</a></div>
        </caption>
        <tr>
          <td style="background-color: #E6E6E6; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: bottom; width: 116.94456pt">
            <div class="CellHeading"><a name="951459">Animation Type</a></div>
          </td>
          <td style="background-color: #E6E6E6; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: bottom; width: 144pt">
            <div class="CellHeading"><a name="951461">GUI API Functions</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="951463">Packet Animation</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="margin-bottom: 3.0pt"><a name="951492"> GUI_Drop<br /> GUI_Broadcast<br /> GUI_EndBroadcast<br /> GUI_Multicast<br /> GUI_Unicast<br /> GUI_Receive</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="951467">Queue Animation</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="margin-bottom: 3.0pt"><a name="951469"> GUI_AddInterfaceQueue<br /> GUI_QueueInsertPacket<br /> GUI_QueueDropPacket<br /> GUI_QueueDequeuePacket</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="951471">Wireless Animation</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="margin-bottom: 3.0pt"><a name="951473"> GUI_Collision<br /> GUI_SetPatternIndex<br /> GUI_SetPatternAndAngle<br /> GUI_Broadcast<br /> GUI_EndBroadcast</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="951526">Node Animation</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="margin-bottom: 3.0pt"><a name="951528"> GUI_MoveNode<br /> GUI_SetNodeOrientation<br /> GUI_SetNodeIcon<br /> GUI_SetNodeLabel<br /> GUI_SetNodeRange</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="951522">Statistics Animation</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="margin-bottom: 3.0pt"><a name="951524"> GUI_DefineMetric<br /> GUI_SendIntegerData<br /> GUI_SendUnsignedData<br /> GUI_SendRealData</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="951518">Logical Link Animation</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="margin-bottom: 3.0pt"><a name="951520"> GUI_AddLink<br /> GUI_DeleteLink<br /> GUI_AddApplication<br /> GUI_DeleteApplication</a></div>
          </td>
        </tr>
      </table>
      <div class="BodyAfterHead"><a name="951728">Programmers can customize the appearance of some of the animation using the GUI_SetEffect function. </a><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#951351', '');" title="Customizing Visualize Mode of QualNet Architect">Table&nbsp;5-11</a> lists the customizable GUI events and effects that can be customized. </div>
      <table class="Format_A" style="text-align: left; width: 242.94456pt" cellspacing="0" summary="">
        <caption>
          <div class="TableTitle">TABLE 5-11.&nbsp;&nbsp;<a name="951351">Customizable GUI Effects&nbsp;</a></div>
        </caption>
        <tr>
          <td style="background-color: #E6E6E6; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: bottom; width: 116.94456pt">
            <div class="CellHeading"><a name="951355">GUI Event</a></div>
          </td>
          <td style="background-color: #E6E6E6; border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: bottom; width: 126pt">
            <div class="CellHeading"><a name="951357">GUI Effects</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="951359">GUI_Receive</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="margin-bottom: 3.0pt"><a name="951361">GUI_FLASH_X GUI_CIRCLE_NODE GUI_DEFAULT_EFFECT</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="951363">GUI_Unicast</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="margin-bottom: 3.0pt"><a name="951365">GUI_FLASH_X GUI_CIRCLE_NODE GUI_DEFAULT_EFFECT</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody"><a name="951367">GUI_Drop</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #000000; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #000000; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 6pt; padding-right: 6pt; padding-top: 4pt; vertical-align: top">
            <div class="CellBody" style="margin-bottom: 3.0pt"><a name="951369">GUI_FLASH_X GUI_CIRCLE_NODE GUI_DEFAULT_EFFECT</a></div>
          </td>
        </tr>
      </table>
      <div class="Heading2Numbered">5.2.3  <a name="955932">Adding Dynamic Statistics</a></div>
      <div class="BodyAfterHead"><span class="Variable"><a name="955939">QualNet</a></span> Architect has the capability of displaying some statistics as they change during the model execution. User-defined dynamic statistics can be added to any protocol at any layer. In this section, we describe how to add dynamic statistics to an Application Layer traffic-generating protocol. <span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%204-2.html#986903', '');" title="Application Layer">Section&nbsp;4.2.5</a></span> describes how to add a traffic-generating Application Layer protocol to <span class="Variable">QualNet</span>. This section gives details of additional steps that are required to add dynamic statistics to an Application Layer protocol. </div>
      <div class="Body"><a name="955951">The following list summarizes the actions that need to be performed for adding dynamic statistics to an Application Layer protocol, MYPROTOCOL. Each of these steps is described in detail in subsequent sections.</a></div>
      <div class="Numbered__0028first_0029_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered__0028first_0029_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered__0028first_0029_inner"><a name="955952">Define handles for statistic variables in the protocol data structure (see </a><span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#955967', '');" title="Customizing Visualize Mode of QualNet Architect">Section&nbsp;5.2.3.1</a></span>).</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="955958">Initialize the statistic handles in the protocol initialization function (see </a><span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#956089', '');" title="Customizing Visualize Mode of QualNet Architect">Section&nbsp;5.2.3.2</a></span>).</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="955959">Modify the Application Layer dynamic statistics function APP_RunTimeStat to call MYPROTOCOL’s function to send the intermediate values of the statistics to the GUI (see </a><span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#956382', '');" title="Customizing Visualize Mode of QualNet Architect">Section&nbsp;5.2.3.3</a></span>).</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="StepNumber">4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="955960">Write MYPROTOCOL’s dynamic statistics function to send the intermediate values of the statistics to the GUI (see </a><span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#956950', '');" title="Customizing Visualize Mode of QualNet Architect">Section&nbsp;5.2.3.4</a></span>).</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Heading3Numbered">5.2.3.1  <a name="955967">Defining Statistic Handles</a></div>
      <div class="BodyAfterHead"><a name="955976">An integer handle is associated with each statistic variable, which is used to send intermediate values of the statistic to the GUI. The handle for the statistic variable is included in the same data structure as the statistic variable itself. The following convention is used to declare a statistic handle:</a></div>
      <div class="Declaration"><a name="955977">&nbsp;</a></div>
      <div class="Declaration"><a name="1050012">int &lt;statisticName&gt;Id;</a></div>
      <div class="Body"><a name="956030">where </a><span style="font-family: &quot;Courier New&quot;">&lt;statisticName&gt;</span> is a statistic variable declared previously in the data structure. For example, <span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#956055', '');" title="Customizing Visualize Mode of QualNet Architect">Figure&nbsp;5-11</a></span> shows a sample statistics declaration for MYPROTOCOL.</div>
      <div class="Code_Segment" style="color: #000000; font-family: &quot;Courier New&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><a name="956035">&nbsp;</a></div>
      <div class="Code_New"><a name="956044">typedef struct {</a></div>
      <div class="Code_New"><a name="956045">    int BytesSent;											/* stat variable for num of bytes sent */</a></div>
      <div class="Code_New"><a name="956046">    int BytesSentId;											/* statistic handle */</a></div>
      <div class="Code_New"><a name="956047">    int BytesReceived;											/* stat variable for num of bytes received */</a></div>
      <div class="Code_New"><a name="956048">    int BytesReceivedId;											/* statistic handle */</a></div>
      <div class="Code_New"><a name="956036">} MyprotocolStatsType;</a></div>
      <div class="Figure">FIGURE 5-11.&nbsp;&nbsp;<a name="956055">Declaring Statistic Handles</a></div>
      <div class="Heading3Numbered">5.2.3.2  <a name="956089">Initializing Statistic Handles</a></div>
      <div class="BodyAfterHead"><a name="956107">Statistic handles are initialized in the protocol’s initialization function. The API GUI_DefineMetric is used to assign a unique value to each statistic handle. The parameters for GUI_DefineMetric are described below. The function GUI_DefineMetric and the enumeration types </a><span style="font-family: &quot;Courier New&quot;">GuiLayers</span>, <span style="font-family: &quot;Courier New&quot;">GuiDataTypes</span>, and <span style="font-family: &quot;Courier New&quot;">GuiMetrics</span> are declared in gui.h.</div>
      <div class="Code_Segment_Large"><a name="956108">&nbsp;</a></div>
      <div class="Code_Segment_Large"><a name="956109">int GUI_DefineMetric(char*        name,</a></div>
      <div class="Code_Segment_Large"><a name="956110">                     NodeId       nodeID,</a></div>
      <div class="Code_Segment_Large"><a name="956111">                     GuiLayers    layer,</a></div>
      <div class="Code_Segment_Large"><a name="956112">                     int          linkID,</a></div>
      <div class="Code_Segment_Large"><a name="956113">                     GuiDataTypes datatype,</a></div>
      <div class="Code_Segment_Large"><a name="956114">                     GuiMetrics   metrictype) </a></div>
      <div class="Code_Segment_Large"><a name="956115">&nbsp;</a></div>
      <div class="Body"><a name="956116">Parameters:</a></div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><span style="font-family: &quot;Courier New&quot;"><a name="956147">name</a></span>: Description label of the statistic in the GUI.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><span style="font-family: &quot;Courier New&quot;"><a name="956155">nodeID</a></span>: Node’s identifier.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><span style="font-family: &quot;Courier New&quot;"><a name="956156">layer</a></span>: Layer at which the protocol resides. It can be one of the values enumerated in <span style="font-family: &quot;Courier New&quot;">GuiLayers</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><span style="font-family: &quot;Courier New&quot;"><a name="956117">linkID</a></span>: Application session identifier. This is set to zero if it is not applicable.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><span style="font-family: &quot;Courier New&quot;"><a name="956120">datatype</a></span>: Statistic's data type. It can be one of the values enumerated in <span style="font-family: &quot;Courier New&quot;">GuiDataTypes</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><span style="font-family: &quot;Courier New&quot;"><a name="956121">metrictype</a></span>: Indication whether the statistic is cumulative or averaged. It can be one of the values enumerated in <span style="font-family: &quot;Courier New&quot;">GuiMetrics</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Body"><a name="956209">In the statistics initialization function for MYPROTOCOL, MyprotocolInitStats, initialize the statistic handles by calling GUI_MetricDefine. </a><span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#956266', '');" title="Customizing Visualize Mode of QualNet Architect">Figure&nbsp;5-12</a></span> shows how this is done for the statistic variables and handles defined in <span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#956055', '');" title="Customizing Visualize Mode of QualNet Architect">Figure&nbsp;5-11</a></span>. Call MyprotocolInitStats from the MYPROTOCOL initialization function, MyprotocolInit.</div>
      <div class="Code_New"><a name="956258">&nbsp;</a></div>
      <div class="Code_New"><a name="956259">static void MyprotocolInitStats (Node* node, MyprotocolStatsType *stats)</a></div>
      <div class="Code_New"><a name="956280">{</a></div>
      <div class="Code_New"><a name="956305">    BytesSent = 0;</a></div>
      <div class="Code_New"><a name="956306">    BytesReceived = 0;</a></div>
      <div class="Code_New"><a name="956284">    if (node-&gt;guiOption)</a></div>
      <div class="Code_New"><a name="956309">    {</a></div>
      <div class="Code_New"><a name="956286">        stats-&gt;BytesSentId = GUI_DefineMetric("Total Bytes Sent", </a></div>
      <div class="Code_New"><a name="956287">                                               node-&gt;nodeId, </a></div>
      <div class="Code_New"><a name="956288">                                               GUI_APP_LAYER, </a></div>
      <div class="Code_New"><a name="956289">                                               0, </a></div>
      <div class="Code_New"><a name="956290">                                               GUI_INTEGER_TYPE,</a></div>
      <div class="Code_New"><a name="956291">                                               GUI_CUMULATIVE_METRIC);</a></div>
      <div class="Code_New"><a name="956292">       stats-&gt;BytesReceivedId = GUI_DefineMetric("Total Bytes Received",</a></div>
      <div class="Code_New"><a name="956293">                                                  node-&gt;nodeId, </a></div>
      <div class="Code_New"><a name="956294">                                                  GUI_APP_LAYER, </a></div>
      <div class="Code_New"><a name="956295">                                                  0, </a></div>
      <div class="Code_New"><a name="956296">                                                  GUI_INTEGER_TYPE,  </a></div>
      <div class="Code_New"><a name="956297">                                                  GUI_CUMULATIVE_METRIC);</a></div>
      <div class="Code_New"><a name="956351">    }</a></div>
      <div class="Code_New"><a name="956352">}</a></div>
      <div class="Figure">FIGURE 5-12.&nbsp;&nbsp;<a name="956266"> Initializing Statistic Handles</a></div>
      <div class="Heading3Numbered">5.2.3.3  <a name="956382">Modifying the Application Layer Dynamic Statistics Function</a></div>
      <div class="BodyAfterHead"><a name="956514">When the GUI requires intermediate statistic values, function PARTITION_PrintRunTimeStats, defined in </a><span class="Variable">QUALNET_HOME</span>/main/partition.cpp, is executed. This function calls the dynamic statistics functions of all layers, each of which in turn calls all protocol-specific dynamic statistics functions at that layer. For example, PARTITION_PrintRunTimeStats calls function APP_RunTimeStats to print dynamic statistics for Application Layer protocols. APP_RunTimeStat calls the function to print dynamicr statistics for each protocol running at the node. APP_RunTimeStat is implemented in <span class="Variable">QUALNET_HOME</span>/main/application.cpp.</div>
      <div class="Body"><a name="956656">To enable dynamic statistics for the Application Layer protocol, MYPROTOCOL, modify the function APP_RunTimeStat to call MYPROTOCOL’s dynamic statistics function, as shown in </a><span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#956688', '');" title="Customizing Visualize Mode of QualNet Architect">Figure&nbsp;5-13</a></span>. APP_MYPROTOCOL is the entry for MYPROTOCOL in the enumeration <span style="font-family: &quot;Courier New&quot;">AppType</span> (see <span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%204-2.html#987028', '');" title="Application Layer">Section&nbsp;4.2.5.3</a></span>) and MyprotocolRunTimeStat is the function to print MYPROTOCOL’s dynamic statistics (see <span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#956950', '');" title="Customizing Visualize Mode of QualNet Architect">Section&nbsp;5.2.3.4</a></span>).</div>
      <div class="Code_Segment"><a name="956664">&nbsp;</a></div>
      <div class="Code_Segment"><a name="956705">void</a></div>
      <div class="Code_Segment"><a name="956706">APP_RunTimeStat(Node *node)</a></div>
      <div class="Code_Segment"><a name="956707">{</a></div>
      <div class="Code_Segment"><a name="956708">    NetworkDataIp *ip = (NetworkDataIp *) node-&gt;networkData.networkVar;</a></div>
      <div class="Code_Segment"><a name="956709">    int i;</a></div>
      <div class="Code_Segment"><a name="956665">    AppInfo *appList = NULL;</a></div>
      <div class="Code_Segment"><a name="956717">    ...</a></div>
      <div class="Code_Segment"><a name="956725">    for (appList = node-&gt;appData.appPtr;</a></div>
      <div class="Code_Segment"><a name="956726">         appList != NULL;</a></div>
      <div class="Code_Segment"><a name="956727">         appList = appList-&gt;appNext)</a></div>
      <div class="Code_Segment"><a name="956728">    {</a></div>
      <div class="Code_Segment"><a name="956729">        /*</a></div>
      <div class="Code_Segment"><a name="956730">         * Get application specific data structure and call</a></div>
      <div class="Code_Segment"><a name="956731">         * the corresponding protocol to print the stats.</a></div>
      <div class="Code_Segment"><a name="956732">         */</a></div>
      <div class="Code_Segment"><a name="956733">&nbsp;</a></div>
      <div class="Code_Segment"><a name="956734">        switch (appList-&gt;appType)</a></div>
      <div class="Code_Segment"><a name="956735">        {</a></div>
      <div class="Code_Segment"><a name="956736">            ...</a></div>
      <div class="Code_Segment"><a name="956817">//StartVBR</a></div>
      <div class="Code_Segment"><a name="956818">            case APP_VBR_CLIENT:</a></div>
      <div class="Code_Segment"><a name="956819">            case APP_VBR_SERVER:</a></div>
      <div class="Code_Segment"><a name="956820">            {</a></div>
      <div class="Code_Segment"><a name="956821">                VbrRunTimeStat(node, (VbrData *) appList-&gt;appDetail);</a></div>
      <div class="Code_Segment"><a name="956822">            }</a></div>
      <div class="Code_Segment"><a name="956823">                break;</a></div>
      <div class="Code_Segment"><a name="956890">//EndVBR</a></div>
      <div class="Code_Segment"><a name="956899">            ...</a></div>
      <div class="Code_New"><a name="956902">            case APP_MYPROTOCOL:</a></div>
      <div class="Code_New"><a name="956903">            {</a></div>
      <div class="Code_New"><a name="956904">                MyprotocolRunTimeStat(node, </a></div>
      <div class="Code_New"><a name="956923">                                      (MyprotocolData *) appList-&gt;appDetail);</a></div>
      <div class="Code_New"><a name="956905">            }</a></div>
      <div class="Code_New"><a name="956906">                break;</a></div>
      <div class="Code_Segment"><a name="956851">            default:</a></div>
      <div class="Code_Segment"><a name="956852">                break;</a></div>
      <div class="Code_Segment"><a name="956853">        }</a></div>
      <div class="Code_Segment"><a name="956854">    }</a></div>
      <div class="Code_Segment"><a name="956723">}</a></div>
      <div class="Figure">FIGURE 5-13.&nbsp;&nbsp;<a name="956688">Modifying Application Layer Dynamic Statistics Function</a></div>
      <div class="Heading3Numbered">5.2.3.4  <a name="956950">Writing the Dynamic Statistics Function for MYPROTOCOL</a></div>
      <div class="BodyAfterHead"><a name="956658">To enable dynamic statistics in a model, write a function to send the intermediate values of the model’s statistics to the GUI. For each statistic type (integer, double, unsigned), there is a separate API to send the value to the GUI. These APIs are listed below and their prototypes are defined in gui.h:</a></div>
      <div class="Declaration"><a name="957046">&nbsp;</a></div>
      <div class="Declaration"><a name="957047">void GUI_SendIntegerData(NodeId      nodeId,</a></div>
      <div class="Declaration"><a name="957048">                         int         metricID,</a></div>
      <div class="Declaration"><a name="957049">                         int         value,</a></div>
      <div class="Declaration"><a name="957050">                         clocktype   time);</a></div>
      <div class="Declaration"><a name="957051">&nbsp;</a></div>
      <div class="Declaration"><a name="957052">void GUI_SendRealData(NodeId      nodeId,</a></div>
      <div class="Declaration"><a name="957053">                      int         metricID,</a></div>
      <div class="Declaration"><a name="957054">                      double      value,</a></div>
      <div class="Declaration"><a name="957055">                      clocktype   time);</a></div>
      <div class="Declaration"><a name="957056">&nbsp;</a></div>
      <div class="Declaration"><a name="957057">void GUI_SendUnsignedData(NodeId      nodeId,</a></div>
      <div class="Declaration"><a name="957058">                          int         metricID,</a></div>
      <div class="Declaration"><a name="957059">                          unsigned    value,</a></div>
      <div class="Declaration"><a name="957060">                          clocktype   time);</a></div>
      <div class="Declaration"><a name="1050031">&nbsp;</a></div>
      <div class="Body"><a name="957029">Parameters:</a></div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><span style="font-family: &quot;Courier New&quot;"><a name="957030">nodeId</a></span>: Node’s identifier. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><span style="font-family: &quot;Courier New&quot;"><a name="957031">metricID</a></span>: Handle assigned to the statistic (see <span class="Cross-Ref"><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#956089', '');" title="Customizing Visualize Mode of QualNet Architect">Section&nbsp;5.2.3.2</a></span>).</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><span style="font-family: &quot;Courier New&quot;"><a name="957032">value</a></span>: Current value of the metric.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bulleted_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bulleted_inner" style="width: 14.4pt; white-space: nowrap;">
                <span class="BulletSymbol">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Bulleted_inner"><span style="font-family: &quot;Courier New&quot;"><a name="957033">time</a></span>: Current simulation time.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Body"><a name="956445">Write the dynamic statistics function for MYPROTOCOL, MyprotocolRunTimeStat. Include the prototype for MyprotocolRunTimeStat in the protocol’s header file, myprotocol.h. </a><a href="javascript:WWHClickedPopup('Programmers_Guide', 'Chapter%205.16.3.html#1002034', '');" title="Customizing Visualize Mode of QualNet Architect">Figure&nbsp;5-14</a> shows a sample implementation of MyprotocolRunTimeStat. The <span style="font-family: &quot;Courier New&quot;">node-&gt;guiOption</span> clause ensures that the protocol sends data to the GUI only if the GUI option is selected.</div>
      <div class="Code_New"><a name="957164">&nbsp;</a></div>
      <div class="Code_New"><a name="957220">void MyprotocolRunTimeStat(Node* node, MyprotocolData* dataPtr) {</a></div>
      <div class="Code_New"><a name="957221">    clocktype now = getSimTime(node);</a></div>
      <div class="Code_New"><a name="957223">    if (node-&gt;guiOption) </a></div>
      <div class="Code_New"><a name="957241">    {</a></div>
      <div class="Code_New"><a name="957224">        GUI_SendIntegerData(node-&gt;nodeId, </a></div>
      <div class="Code_New"><a name="957242">                            dataPtr-&gt;stats.BytesSentId, </a></div>
      <div class="Code_New"><a name="957243">                            dataPtr-&gt;stats.BytesSent, </a></div>
      <div class="Code_New"><a name="957244">                            now);</a></div>
      <div class="Code_New"><a name="957225">        GUI_SendIntegerData(node-&gt;nodeId,</a></div>
      <div class="Code_New"><a name="957245">                            dataPtr-&gt;stats.BytesReceivedId, </a></div>
      <div class="Code_New"><a name="957246">                            dataPtr-&gt;stats.BytesReceived, </a></div>
      <div class="Code_New"><a name="957247">                            now);</a></div>
      <div class="Code_New"><a name="957226">    }</a></div>
      <div class="Code_New"><a name="957165">}</a></div>
      <div class="Figure">FIGURE 5-14.&nbsp;&nbsp;<a name="1002034">Dynamic Statistics Function for MYPROTOCOL</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <hr align="left" />
    <table align="left">
      <tr>
        <td class="WebWorks_Company_Phone_Bottom">© 2008 - 2012 SCALABLE Network Technologies, Inc. All rights reserved.</td>
      </tr>
    </table>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>